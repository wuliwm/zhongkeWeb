import"./button-CxZEdMfJ.js";import{d as $,r as k,t as I,H as N,b9 as j,c as H,D as R,f as D,i as q,w as V,E as z,L as F,j as L,bh as S,o as U,_ as A}from"./index-ClTXJOBm.js";import{a as G,b as C}from"./StatusTag-BgqqZ7S_.js";var m={exports:{}},J=m.exports,E;function K(){return E||(E=1,(function(h,M){(function(r,o){h.exports=o()})(J,(function(){return function(r,o,u){r=r||{};var t=o.prototype,f={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function n(e,a,d,v){return t.fromToBase(e,a,d,v)}u.en.relativeTime=f,t.fromToBase=function(e,a,d,v,b){for(var x,c,g,_=d.$locale().relativeTime||f,T=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],B=T.length,l=0;l<B;l+=1){var s=T[l];s.d&&(x=v?u(e).diff(d,s.d,!0):d.diff(e,s.d,!0));var i=(r.rounding||Math.round)(Math.abs(x));if(g=x>0,i<=s.r||!s.r){i<=1&&l>0&&(s=T[l-1]);var y=_[s.l];b&&(i=b(""+i)),c=typeof y=="string"?y.replace("%d",i):y(i,a,s.l,g);break}}if(a)return c;var w=g?_.future:_.past;return typeof w=="function"?w(c):w.replace("%s",c)},t.to=function(e,a){return n(e,a,this,!0)},t.from=function(e,a){return n(e,a,this)};var p=function(e){return e.$u?u.utc():u()};t.toNow=function(e){return this.to(p(this),e)},t.fromNow=function(e){return this.from(p(this),e)}}}))})(m)),m.exports}var O=K();const P=G(O),Q=$({__name:"CountdownTimer",props:{endDate:{}},setup(h){C.extend(P);const M=h,r=k(Date.now());let o=null;const u=I(()=>{const t=C(M.endDate);if(t.isBefore(r.value))return{text:"已过期",urgent:!0};const n=t.diff(r.value,"day");return n<=0?t.diff(r.value,"hour")<=0?{text:"即将截止",urgent:!0}:{text:"今天截止",urgent:!0}:n===1?{text:"明天截止",urgent:!0}:{text:`还剩 ${n} 天`,urgent:n<=3}});return N(()=>{o=globalThis.setInterval(()=>{r.value=Date.now()},60*1e3)}),j(()=>{o&&(globalThis.clearInterval(o),o=null)}),(t,f)=>{const n=z;return U(),H("span",{class:R(["countdown",{urgent:u.value.urgent}])},[D(n,null,{default:V(()=>[D(L(S))]),_:1}),q(" "+F(u.value.text),1)],2)}}}),Z=A(Q,[["__scopeId","data-v-b38794eb"]]);export{Z as C};
